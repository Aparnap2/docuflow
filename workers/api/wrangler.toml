name = "docuflow-api"
main = "src/index.ts"
compatibility_date = "2025-12-21"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "docuflow-local"
database_id = ""

# Vectorize
[[vectorize]]
binding = "VECTORIZE"
index_name = "docuflow-local"
index_id = ""

# R2 Buckets
[[r2_buckets]]
binding = "DOCS_BUCKET"
bucket_name = "docuflow-local-docs"

[[r2_buckets]]
binding = "METADATA_BUCKET"
bucket_name = "docuflow-local-metadata"

# Queues
[[queues.producers]]
queue = "docuflow-ingest"
binding = "INGEST_QUEUE"

[[queues.producers]]
queue = "docuflow-events"
binding = "EVENTS_QUEUE"

# Workers AI
[ai]
binding = "AI"

# Environment Variables
[vars]
ENGINE_URL = "http://localhost:8000/process"
ENGINE_SECRET = "test"
BASE_URL = "http://localhost:8787"
OLLAMA_URL = "http://localhost:11434"  # For local Ollama testing
