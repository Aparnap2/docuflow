name = "structurize-consumer"
main = "src/index.ts"
compatibility_date = "2025-12-22"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "structurize-db"
database_id = ""

# R2 Buckets
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "structurize-docs"

# Queues (Consumer)
[[queues.consumers]]
queue = "structurize-ingest"
max_batch_size = 10
max_batch_timeout = 30

# Workers AI
[ai]
binding = "AI"

# Environment Variables
[vars]
BASE_URL = "https://api.structurize.ai"
OLLAMA_URL = "http://localhost:11434"  # For local Ollama testing
